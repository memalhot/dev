
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>9. Containers &#8212; Beyond the Classroom</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'container/cont/chapter1';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="10. An Interview with Sally O’Malley, Container Expert" href="chapter2.html" />
    <link rel="prev" title="8. Demystifying Regex" href="../../regular/regex/chapter.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../dev-book_intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Beyond the Classroom - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Beyond the Classroom - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../dev-book_intro.html">
                    Beyond the Classroom: A Practical Guide to Software Engineering
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/intro/chapter.html">1. Beyond the Classroom: An Introduction</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Using the Command Line</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../cmd/line/chapter1.html">2. Adventures in the Command Line</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">A Guide to Git</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../git/ignore/chapter1.html">3. Let’s Git Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../git/ignore/chapter2.html">4. Using a .gitignore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../git/ignore/chapter3.html">5. Writing Commit Messages</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Clean Coding</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../clean/code/chapter.html">6. Writing Squeaky Clean Code</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Secure Coding</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../secure/code/chapter.html">7. Secure Coding Practices</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Demystifying Regex</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../regular/regex/chapter.html">8. Demystifying Regex</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Containers</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">9. Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter2.html">10. An Interview with Sally O’Malley, Container Expert</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reading the Man Pages</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../man/page/read.html">11. Reading the Man Pages</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://jupyterhub-opf-jupyterhub.apps.smaug.na.operate-first.cloud/hub/user-redirect/git-pull?repo=https%3A//github.com/meeram/welcome&urlpath=lab/tree/welcome/content/container/cont/chapter1.ipynb&branch=main" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onJupyterHub"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_jupyterhub.svg">
  </span>
<span class="btn__text-container">JupyterHub</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/meeram/welcome" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/meeram/welcome/edit/main/content/container/cont/chapter1.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/meeram/welcome/issues/new?title=Issue%20on%20page%20%2Fcontainer/cont/chapter1.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/container/cont/chapter1.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Containers</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-are-containers">9.1. What Are Containers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-use-containers">9.2. Why Use Containers?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-docker">9.3. Using Docker</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-docker">9.3.1. Installing Docker</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="containers">
<h1><span class="section-number">9. </span>Containers<a class="headerlink" href="#containers" title="Link to this heading">#</a></h1>
<p>In recent years, containers have revolutionized the way we develop, deploy, and manage applications. Their popularity is no accident; they offer a level of efficiency and consistency that traditional virtual machines (VMs) and other deployment methods haven’t been able to compare to. In this chapter, we will go through the essentials of using containers effectively. We’ll also dive into an alternative to Docker: Podman.</p>
<section id="what-are-containers">
<h2><span class="section-number">9.1. </span>What Are Containers<a class="headerlink" href="#what-are-containers" title="Link to this heading">#</a></h2>
<p>You can think of containers as little packages of software that are shared and deployed. Containers are a lightweight form of virtualization that package an application and its dependencies into a single, portable unit. Unlike VMs, which include an entire operating system, containers share the host OS’s kernel but maintain isolated user spaces. This means they are more efficient and faster to start up, making them way more scalable and accessible. They can also be started both locally, and in the cloud.</p>
</section>
<section id="why-use-containers">
<h2><span class="section-number">9.2. </span>Why Use Containers?<a class="headerlink" href="#why-use-containers" title="Link to this heading">#</a></h2>
<p>Why do we use containers? Well, have you ever had code run on your computer that doesn’t run on someone else’s? Or have you ever been caught in dependency hell, where you’re trying to upgrade and downgrade your packages, just so you can just run your code? Software is constantly being worked on, and the time when you download it or what version you decide to download has a lot to do with the functionality and features of that software. And someone else who might have downloaded that package may have a different level of functionality, or they may not have that package at all! So, to keep everything consistent for everyone using it, we use containers.</p>
<ol class="arabic simple">
<li><p>Consistency Across Environments: Containers ensure that your application behaves the same way regardless of where it’s deployed. This eliminates the “works on my machine” problem by providing a consistent environment throughout the development process</p></li>
<li><p>Isolation and Security: Containers run in isolated environments, which means different containers can run different applications or versions of an application without conflicts. This isolation also enhances security by limiting the scope of potential breaches.</p></li>
<li><p>Resource Efficiency: Containers are lightweight compared to VMs because they share the host OS’s resources. This efficiency allows you to run more containers on the same hardware, making them super resource efficient!</p></li>
<li><p>Portability: Containers can run on any system that supports container technology, making it easy to move applications between different environments, whether it’s from a developer’s laptop to a staging environment or from on-premises hardware to the cloud.</p></li>
</ol>
<p>Getting Started with Containers</p>
<p>To get started with containers, you’ll need to familiarize yourself with some key tools and concepts. The most widely used container technology is Docker, though there are other options like Podman. Here’s a basic guide to using Docker, as well as an introduction to Podman.</p>
</section>
<section id="using-docker">
<h2><span class="section-number">9.3. </span>Using Docker<a class="headerlink" href="#using-docker" title="Link to this heading">#</a></h2>
<section id="installing-docker">
<h3><span class="section-number">9.3.1. </span>Installing Docker<a class="headerlink" href="#installing-docker" title="Link to this heading">#</a></h3>
<p>Download and install Docker from <a class="reference external" href="https://www.docker.com/get-started">Docker’s website</a>. This link can help you get setup for based on your operating system, like Windows, macOS, and Linux.</p>
<p>Understanding Docker Components
The first component we’ll cover is a docker image. You can think of docker images like a blueprint for the container. They are read-only templates that contain instructions for creating a container. The second component we can go over is the container itself, in formal terms they are docker images running as isolated processes. But you can think of them as literal containers filled with software that you can enter. Docker hub is a public registry where you can find and share Docker images, almost like Github, like being a public registry where you can find code. But there are lots of other places where you can find docker images, like Amazon ECR or Red Hat’s Quay.</p>
<p>Let’s try running our first container!</p>
<p>Once Docker is installed, you can run your first container. Open your terminal run the following command to run a simple container using the official <code class="docutils literal notranslate"><span class="pre">hello-world</span></code> image:</p>
<p>``
docker run hello-world</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
This command pulls the `hello-world` image from Docker Hub (if it&#39;s not already downloaded) and runs it in a container. You should see a message confirming that Docker is installed and working correctly.

Let’s create a docker image
To build your own Docker images, you&#39;ll use a Dockerfile—a text file with instructions on how to build an image. Here’s a simple example:

First make a folder called flask-app
Flask is a popular package for developing websites
Inside flask app create a file called app.py
In app.py, include this code, for our flask web-app:

</pre></div>
</div>
<p>from flask import Flask</p>
<p>app = Flask(<strong>name</strong>)</p>
<p>&#64;app.route(‘/’)
def hello_world():
return ‘Congrats, you build a container!’</p>
<p>if <strong>name</strong> == ‘<strong>main</strong>’:
app.run(host=’0.0.0.0’, port=8000)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="n">Then</span> <span class="n">create</span> <span class="n">a</span> <span class="n">file</span> <span class="n">called</span> <span class="n">Dockerfile</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">same</span> <span class="n">folder</span><span class="p">,</span> <span class="n">the</span> <span class="n">comments</span> <span class="n">contain</span> <span class="n">instructions</span> <span class="n">explaining</span> <span class="n">Dockerfile</span> <span class="n">commands</span>

</pre></div>
</div>
<p>#from gives us a base image to work with, it helps identify some of the underlying architecture we want to create our container with
#you don’t have to use from, but it’s often easier for beginners to use a base image that exists
#we also tend to use slimmed images for space efficiency, as you can see here
FROM python:3.11-slim</p>
<p>#user sets who we run as, here we will run as root
USER root</p>
<p>#env sets our environment variables
#here we are usig it to run pip as root
#so it doesn’t give us any error messages
ENV PIP_ROOT_USER_ACTION=ignore</p>
<p>#workdir sets our working directory
#it’s necessary for a lot of other commands like RUN, CMD, ENTRYPOINT
#we’ll learn about those later
WORKDIR /app</p>
<p>#copy takes in a source and destination, in that order
#if you want to copy files from your local filesystem into the container
#similar to the cp command in unix environments!
#here we copy everything in our folder (.) into the app directory (/app)
COPY . /app</p>
<p>#run runs commands inside your container
#you can use commands you would use in the command line here!
#try to condense run commands using &amp;&amp; <br />
#every new command adds a layer to your container image, so this helps with efficiency
RUN pip install –upgrade pip &amp;&amp; <br />
pip install Flask==3.0.3</p>
<p>#expose a port to run it on locally, here we are running on port 80
EXPOSE 8000</p>
<p>#there can only be one cmd in a dockerfile
#cmd gives us the command to help run our container
#an example would be CMD[“executable”, parameter1, parameter2]
CMD [“python”, “<a class="reference external" href="http://app.py">app.py</a>”]</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p>To build an image from this Dockerfile, navigate to the flask-app directory and run this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="n">flask</span><span class="o">-</span><span class="n">app</span> <span class="o">.</span>
</pre></div>
</div>
<p>This command builds an image named <code class="docutils literal notranslate"><span class="pre">flask-app</span></code>. You can run it with:
You have to build to run an image!</p>
<p>``
docker run -p 4000:8000 flask-app</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
This maps port 8000 inside the container to port 4000 on your host machine.

3. Manage Containers

Docker provides some commands to help you manage containers, let’s go over some of them:

- List Containers: `docker ps` shows running containers. Use `docker ps -a` to see all containers, including stopped ones.
- Stop a Container: `docker stop &lt;container_id&gt;` stops a running container
- Remove a Container: `docker rm &lt;container_id&gt;` removes a stopped container
- View Logs: `docker logs &lt;container_id&gt;` displays the logs from a container

Introducing Podman

Podman is an open-source container management tool that provides a Docker-compatible experience while offering additional features and capabilities. It is often praised for its focus on security and its daemonless architecture. Here’s how Podman compares to Docker and how you can get started with it.

1. Installing Podman

Podman can be installed on various Linux distributions and is available for Windows and macOS. Installation instructions for different platforms can be found on the [Podman installation page](https://podman.io/getting-started/installation).

For example, on Ubuntu, you can install Podman with:

</pre></div>
</div>
<p>sudo apt update
sudo apt install podman</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
2. Podman vs. Docker

- Daemonless Architecture: Unlike Docker, which relies on a long-running daemon, Podman runs as a single binary and uses a client-server architecture. This makes it more compatible with systemd and enhances security.
- Rootless Containers: Podman supports rootless containers, which can run without requiring root privileges, thus improving security and reducing risks.
- Docker Compatibility: Podman aims to be compatible with Docker CLI commands, which means you can often use Podman as a drop-in replacement for Docker commands. So, `podman run` works similarly to `docker run`.

3. Running Containers with Podman

Here’s how you can run a container using Podman, starting with the `hello-world` image:

</pre></div>
</div>
<p>podman run hello-world</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="n">Podman</span> <span class="n">also</span> <span class="n">uses</span> <span class="n">Dockerfiles</span> <span class="k">for</span> <span class="n">building</span> <span class="n">images</span><span class="o">.</span> <span class="n">To</span> <span class="n">build</span> <span class="ow">and</span> <span class="n">run</span> <span class="n">a</span> <span class="n">container</span><span class="p">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">use</span> <span class="n">similar</span> <span class="n">commands</span><span class="p">:</span>

</pre></div>
</div>
<p>podman build -t flask-app .
podman run -p 4000:8000 flask-app</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
4. Managing Containers with Podman

Podman provides commands that manage containers:

- List Containers: `podman ps` shows running containers. Use `podman ps -a` to see all containers, including stopped ones.
- Stop a Container: `podman stop &lt;container_id&gt;` stops a running container.
- Remove a Container: `podman rm &lt;container_id&gt;` removes a stopped container.
- View Logs: `podman logs &lt;container_id&gt;` displays the logs from a container.

Looks pretty similar, huh?

## Container Tips

1. Use Minimal Base Images: Start with the smallest base image, many docker images are made smaller and stripped so they’re more space efficient.
2. Keep Images Up-to-Date: Regularly update your images to include the latest security patches and improvements.
3. Limit Container Privileges: Run containers with the least amount of privilege necessary to mitigate security risks.
4. Monitor and Log: Implement monitoring and logging solutions to keep track of container performance and troubleshoot issues.

## Conclusion

Containers, whether managed with Docker or Podman, have become essential to modern application development, giving engineers unmatched portability, efficiency, and consistency. By understanding the basics of these tools and how to manage containers effectively, you can make the stuff you build more accessible to a wider number of users, and never run into the, “well, it worked on my machine”, again!

Happy Containerizing!
</pre></div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./container/cont"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../../regular/regex/chapter.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">8. </span>Demystifying Regex</p>
      </div>
    </a>
    <a class="right-next"
       href="chapter2.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">10. </span>An Interview with Sally O’Malley, Container Expert</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-are-containers">9.1. What Are Containers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-use-containers">9.2. Why Use Containers?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-docker">9.3. Using Docker</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-docker">9.3.1. Installing Docker</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Meera Malhotra
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>